<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pycassa.columnfamily – Column Family &mdash; pycassa 1.11.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="pycassa 1.11.0 documentation" href="../../index.html" />
    <link rel="up" title="API Documentation" href="../index.html" />
    <link rel="next" title="pycassa.columnfamilymap – Maps Classes to Column Families" href="columnfamilymap.html" />
    <link rel="prev" title="pycassa.pool – Connection Pooling" href="pool.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="columnfamilymap.html" title="pycassa.columnfamilymap – Maps Classes to Column Families"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pool.html" title="pycassa.pool – Connection Pooling"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">pycassa 1.11.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">API Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pycassa.columnfamily">
<span id="pycassa-columnfamily-column-family"></span><h1><a class="reference internal" href="#module-pycassa.columnfamily" title="pycassa.columnfamily"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.columnfamily</span></tt></a> &#8211; Column Family<a class="headerlink" href="#module-pycassa.columnfamily" title="Permalink to this headline">¶</a></h1>
<p>Provides an abstraction of Cassandra&#8217;s data model to allow for easy
manipulation of data inside Cassandra.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="columnfamilymap.html#module-pycassa.columnfamilymap" title="pycassa.columnfamilymap"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.columnfamilymap</span></tt></a></p>
</div>
<dl class="staticmethod">
<dt id="pycassa.columnfamily.gm_timestamp">
<em class="property">static </em><tt class="descclassname">columnfamily.</tt><tt class="descname">gm_timestamp</tt><big>(</big><big>)</big><a class="headerlink" href="#pycassa.columnfamily.gm_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of microseconds since the Unix Epoch.</p>
</dd></dl>

<dl class="class">
<dt id="pycassa.columnfamily.ColumnFamily">
<em class="property">class </em><tt class="descclassname">pycassa.columnfamily.</tt><tt class="descname">ColumnFamily</tt><big>(</big><em>pool</em>, <em>column_family</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstraction of a Cassandra column family or super column family.
Operations on this, such as <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get" title="pycassa.columnfamily.ColumnFamily.get"><tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt></a> or <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.insert" title="pycassa.columnfamily.ColumnFamily.insert"><tt class="xref py py-meth docutils literal"><span class="pre">insert()</span></tt></a> will get data from or
insert data into the corresponding Cassandra column family.</p>
<p><cite>pool</cite> is a <a class="reference internal" href="pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a> that the column
family will use for all operations. A connection is drawn from the
pool before each operations and is returned afterwards.</p>
<p><cite>column_family</cite> should be the name of the column family that you
want to use in Cassandra. Note that the keyspace to be used is
determined by the pool.</p>
<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.read_consistency_level">
<tt class="descname">read_consistency_level</tt><em class="property"> = 1</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.read_consistency_level" title="Permalink to this definition">¶</a></dt>
<dd><p>The default consistency level for every read operation, such as
<a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get" title="pycassa.columnfamily.ColumnFamily.get"><tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt></a> or <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get_range" title="pycassa.columnfamily.ColumnFamily.get_range"><tt class="xref py py-meth docutils literal"><span class="pre">get_range()</span></tt></a>. This may be overridden per-operation. This should be
an instance of <tt class="xref py py-class docutils literal"><span class="pre">ConsistencyLevel</span></tt>.
The default level is <tt class="docutils literal"><span class="pre">ONE</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.write_consistency_level">
<tt class="descname">write_consistency_level</tt><em class="property"> = 1</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.write_consistency_level" title="Permalink to this definition">¶</a></dt>
<dd><p>The default consistency level for every write operation, such as
<a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.insert" title="pycassa.columnfamily.ColumnFamily.insert"><tt class="xref py py-meth docutils literal"><span class="pre">insert()</span></tt></a> or <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.remove" title="pycassa.columnfamily.ColumnFamily.remove"><tt class="xref py py-meth docutils literal"><span class="pre">remove()</span></tt></a>. This may be overridden per-operation. This should be
an instance of <tt class="xref py py-class docutils literal"><span class="pre">ConsistencyLevel</span></tt>.
The default level is <tt class="docutils literal"><span class="pre">ONE</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.autopack_names">
<tt class="descname">autopack_names</tt><em class="property"> = True</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.autopack_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls whether column names are automatically converted to or from
their natural type to the binary string format that Cassandra uses.
The data type used is controlled by <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.column_name_class" title="pycassa.columnfamily.ColumnFamily.column_name_class"><tt class="xref py py-attr docutils literal"><span class="pre">column_name_class</span></tt></a> for
column names and <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.super_column_name_class" title="pycassa.columnfamily.ColumnFamily.super_column_name_class"><tt class="xref py py-attr docutils literal"><span class="pre">super_column_name_class</span></tt></a> for super column names.
By default, this is <tt class="xref py py-const docutils literal"><span class="pre">True</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.autopack_values">
<tt class="descname">autopack_values</tt><em class="property"> = True</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.autopack_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether column values are automatically converted to or from
their natural type to the binary string format that Cassandra uses.
The data type used is controlled by <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.default_validation_class" title="pycassa.columnfamily.ColumnFamily.default_validation_class"><tt class="xref py py-attr docutils literal"><span class="pre">default_validation_class</span></tt></a>
and <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.column_validators" title="pycassa.columnfamily.ColumnFamily.column_validators"><tt class="xref py py-attr docutils literal"><span class="pre">column_validators</span></tt></a>.
By default, this is <tt class="xref py py-const docutils literal"><span class="pre">True</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.autopack_keys">
<tt class="descname">autopack_keys</tt><em class="property"> = True</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.autopack_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether row keys are automatically converted to or from
their natural type to the binary string format that Cassandra uses.
The data type used is controlled by <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.key_validation_class" title="pycassa.columnfamily.ColumnFamily.key_validation_class"><tt class="xref py py-attr docutils literal"><span class="pre">key_validation_class</span></tt></a>.
By default, this is <tt class="xref py py-const docutils literal"><span class="pre">True</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.column_name_class">
<tt class="descname">column_name_class</tt><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.column_name_class" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of column names, which pycassa will use
to determine how to pack and unpack them.</p>
<p>This is set automatically by inspecting the column family&#8217;s
<tt class="docutils literal"><span class="pre">comparator_type</span></tt>, but it may also be set manually if you want
autopacking behavior without setting a <tt class="docutils literal"><span class="pre">comparator_type</span></tt>. Options
include an instance of any class in <a class="reference internal" href="types.html#module-pycassa.types" title="pycassa.types"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.types</span></tt></a>, such as <tt class="docutils literal"><span class="pre">LongType()</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.super_column_name_class">
<tt class="descname">super_column_name_class</tt><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.super_column_name_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.column_name_class" title="pycassa.columnfamily.ColumnFamily.column_name_class"><tt class="xref py py-attr docutils literal"><span class="pre">column_name_class</span></tt></a>, but for
super column names.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.default_validation_class">
<tt class="descname">default_validation_class</tt><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.default_validation_class" title="Permalink to this definition">¶</a></dt>
<dd><p>The default data type of column values, which pycassa
will use to determine how to pack and unpack them.</p>
<p>This is set automatically by inspecting the column family&#8217;s
<tt class="docutils literal"><span class="pre">default_validation_class</span></tt>, but it may also be set manually if you want
autopacking behavior without setting a <tt class="docutils literal"><span class="pre">default_validation_class</span></tt>. Options
include an instance of any class in <a class="reference internal" href="types.html#module-pycassa.types" title="pycassa.types"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.types</span></tt></a>, such as <tt class="docutils literal"><span class="pre">LongType()</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.column_validators">
<tt class="descname">column_validators</tt><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.column_validators" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.default_validation_class" title="pycassa.columnfamily.ColumnFamily.default_validation_class"><tt class="xref py py-attr docutils literal"><span class="pre">default_validation_class</span></tt></a>, but is a
<tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt> mapping individual columns to types.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.key_validation_class">
<tt class="descname">key_validation_class</tt><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.key_validation_class" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of row keys, which pycassa will use
to determine how to pack and unpack them.</p>
<p>This is set automatically by inspecting the column family&#8217;s
<tt class="docutils literal"><span class="pre">key_validation_class</span></tt> (which only exists in Cassandra 0.8 or greater),
but may be set manually if you want the autopacking behavior without
setting a <tt class="docutils literal"><span class="pre">key_validation_class</span></tt> or if you are using Cassandra 0.7.
Options include an instance of any class in <a class="reference internal" href="types.html#module-pycassa.types" title="pycassa.types"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.types</span></tt></a>,
such as <tt class="docutils literal"><span class="pre">LongType()</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.dict_class">
<tt class="descname">dict_class</tt><em class="property"> = &lt;class 'collections.OrderedDict'&gt;</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.dict_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Results are returned as dictionaries. By default, python 2.7&#8217;s
<tt class="xref py py-class docutils literal"><span class="pre">collections.OrderedDict</span></tt> is used if available, otherwise
<a class="reference internal" href="util.html#pycassa.util.OrderedDict" title="pycassa.util.OrderedDict"><tt class="xref py py-class docutils literal"><span class="pre">OrderedDict</span></tt></a> is used so that order is maintained.
A different class, such as <tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt>, may be instead by used setting
this.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.buffer_size">
<tt class="descname">buffer_size</tt><em class="property"> = 1024</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.buffer_size" title="Permalink to this definition">¶</a></dt>
<dd><p>When calling <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get_range" title="pycassa.columnfamily.ColumnFamily.get_range"><tt class="xref py py-meth docutils literal"><span class="pre">get_range()</span></tt></a> or <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get_indexed_slices" title="pycassa.columnfamily.ColumnFamily.get_indexed_slices"><tt class="xref py py-meth docutils literal"><span class="pre">get_indexed_slices()</span></tt></a>,
the intermediate results need to be buffered if we are fetching many
rows, otherwise performance may suffer and the Cassandra server may
overallocate memory and fail. This is the size of that buffer in number
of rows. The default is 1024.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.column_buffer_size">
<tt class="descname">column_buffer_size</tt><em class="property"> = 1024</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.column_buffer_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of columns fetched at once for <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.xget" title="pycassa.columnfamily.ColumnFamily.xget"><tt class="xref py py-meth docutils literal"><span class="pre">xget()</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="pycassa.columnfamily.ColumnFamily.timestamp">
<tt class="descname">timestamp</tt><em class="property"> = &lt;unbound method ColumnFamily.gm_timestamp&gt;</em><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Each <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.insert" title="pycassa.columnfamily.ColumnFamily.insert"><tt class="xref py py-meth docutils literal"><span class="pre">insert()</span></tt></a> or <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.remove" title="pycassa.columnfamily.ColumnFamily.remove"><tt class="xref py py-meth docutils literal"><span class="pre">remove()</span></tt></a> sends a timestamp with every
column. This attribute is a function that is used to get
this timestamp when needed.  The default function is <a class="reference internal" href="#pycassa.columnfamily.gm_timestamp" title="pycassa.columnfamily.gm_timestamp"><tt class="xref py py-meth docutils literal"><span class="pre">gm_timestamp()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.load_schema">
<tt class="descname">load_schema</tt><big>(</big><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.load_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the schema definition for this column family from
Cassandra and updates comparator and validation classes if
neccessary.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.get">
<tt class="descname">get</tt><big>(</big><em>key[, columns][, column_start][, column_finish][, column_reversed][, column_count][, include_timestamp][, super_column][, read_consistency_level]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches all or part of the row with key <cite>key</cite>.</p>
<p>The columns fetched may be limited to a specified list of column names
using <cite>columns</cite>.</p>
<p>Alternatively, you may fetch a slice of columns or super columns from a row
using <cite>column_start</cite>, <cite>column_finish</cite>, and <cite>column_count</cite>.
Setting these will cause columns or super columns to be fetched starting with
<cite>column_start</cite>, continuing until <cite>column_count</cite> columns or super columns have
been fetched or <cite>column_finish</cite> is reached.  If <cite>column_start</cite> is left as the
empty string, the slice will begin with the start of the row; leaving
<cite>column_finish</cite> blank will cause the slice to extend to the end of the row.
Note that <cite>column_count</cite> defaults to 100, so rows over this size will not be
completely fetched by default.</p>
<p>If <cite>column_reversed</cite> is <tt class="docutils literal"><span class="pre">True</span></tt>, columns are fetched in reverse sorted order,
beginning with <cite>column_start</cite>.  In this case, if <cite>column_start</cite> is the empty
string, the slice will begin with the end of the row.</p>
<p>You may fetch all or part of only a single super column by setting <cite>super_column</cite>.
If this is set, <cite>column_start</cite>, <cite>column_finish</cite>, <cite>column_count</cite>, and <cite>column_reversed</cite>
will apply to the subcolumns of <cite>super_column</cite>.</p>
<p>To include every column&#8217;s timestamp in the result set, set <cite>include_timestamp</cite> to
<tt class="docutils literal"><span class="pre">True</span></tt>.  Results will include a <tt class="docutils literal"><span class="pre">(value,</span> <span class="pre">timestamp)</span></tt> tuple for each column.</p>
<p>To include every column&#8217;s ttl in the result set, set <cite>include_ttl</cite> to
<tt class="docutils literal"><span class="pre">True</span></tt>.  Results will include a <tt class="docutils literal"><span class="pre">(value,</span> <span class="pre">ttl)</span></tt> tuple for each column.</p>
<p>If this is a standard column family, the return type is of the form
<tt class="docutils literal"><span class="pre">{column_name:</span> <span class="pre">column_value}</span></tt>.  If this is a super column family and <cite>super_column</cite>
is not specified, the results are of the form
<tt class="docutils literal"><span class="pre">{super_column_name:</span> <span class="pre">{column_name,</span> <span class="pre">column_value}}</span></tt>.  If <cite>super_column</cite> is set,
the super column name will be excluded and the results are of the form
<tt class="docutils literal"><span class="pre">{column_name:</span> <span class="pre">column_value}</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.multiget">
<tt class="descname">multiget</tt><big>(</big><em>keys[, columns][, column_start][, column_finish][, column_reversed][, column_count][, include_timestamp][, super_column][, read_consistency_level][, buffer_size]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.multiget" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch multiple rows from a Cassandra server.</p>
<p><cite>keys</cite> should be a list of keys to fetch.</p>
<p><cite>buffer_size</cite> is the number of rows from the total list to fetch at a time.
If left as <tt class="docutils literal"><span class="pre">None</span></tt>, the ColumnFamily&#8217;s <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.buffer_size" title="pycassa.columnfamily.ColumnFamily.buffer_size"><tt class="xref py py-attr docutils literal"><span class="pre">buffer_size</span></tt></a> will be used.</p>
<p>All other parameters are the same as <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get" title="pycassa.columnfamily.ColumnFamily.get"><tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt></a>, except that a list of keys may
be passed in.</p>
<p>Results will be returned in the form: <tt class="docutils literal"><span class="pre">{key:</span> <span class="pre">{column_name:</span> <span class="pre">column_value}}</span></tt>. If
an OrderedDict is used, the rows will have the same order as <cite>keys</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.xget">
<tt class="descname">xget</tt><big>(</big><em>key[, column_start][, column_finish][, column_reversed][, column_count][, include_timestamp][, read_consistency_level][, buffer_size]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.xget" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get" title="pycassa.columnfamily.ColumnFamily.get"><tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt></a>, but creates a generator that pages over the columns
automatically.</p>
<p>The number of columns fetched at once can be controlled with the
<cite>buffer_size</cite> parameter. The default is <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.column_buffer_size" title="pycassa.columnfamily.ColumnFamily.column_buffer_size"><tt class="xref py py-attr docutils literal"><span class="pre">column_buffer_size</span></tt></a>.</p>
<p>The generator returns <cite>(name, value)</cite> tuples.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.get_count">
<tt class="descname">get_count</tt><big>(</big><em>key[, super_column][, columns][, column_start][, column_finish][, super_column][, read_consistency_level][, column_reversed][, max_count]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.get_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of columns in the row with key <cite>key</cite>.</p>
<p>You may limit the columns or super columns counted to those in <cite>columns</cite>.
Additionally, you may limit the columns or super columns counted to
only those between <cite>column_start</cite> and <cite>column_finish</cite>.</p>
<p>You may also count only the number of subcolumns in a single super column
using <cite>super_column</cite>.  If this is set, <cite>columns</cite>, <cite>column_start</cite>, and
<cite>column_finish</cite> only apply to the subcolumns of <cite>super_column</cite>.</p>
<p>To put an upper bound on the number of columns that are counted,
set <cite>max_count</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.multiget_count">
<tt class="descname">multiget_count</tt><big>(</big><em>key[, super_column][, columns][, column_start][, column_finish][, super_column][, read_consistency_level][, buffer_size][, column_reversed][, max_count]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.multiget_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a column count in parallel on a set of rows.</p>
<p>The parameters are the same as for <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.multiget" title="pycassa.columnfamily.ColumnFamily.multiget"><tt class="xref py py-meth docutils literal"><span class="pre">multiget()</span></tt></a>, except that a list
of keys may be used. A dictionary of the form <tt class="docutils literal"><span class="pre">{key:</span> <span class="pre">int}</span></tt> is
returned.</p>
<p><cite>buffer_size</cite> is the number of rows from the total list to count at a time.
If left as <tt class="docutils literal"><span class="pre">None</span></tt>, the ColumnFamily&#8217;s <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.buffer_size" title="pycassa.columnfamily.ColumnFamily.buffer_size"><tt class="xref py py-attr docutils literal"><span class="pre">buffer_size</span></tt></a> will be used.</p>
<p>To put an upper bound on the number of columns that are counted,
set <cite>max_count</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.get_range">
<tt class="descname">get_range</tt><big>(</big><em>[start][, finish][, columns][, column_start][, column_finish][, column_reversed][, column_count][, row_count][, include_timestamp][, super_column][, read_consistency_level][, buffer_size][, filter_empty]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.get_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an iterator over rows in a specified key range.</p>
<p>The key range begins with <cite>start</cite> and ends with <cite>finish</cite>. If left
as empty strings, these extend to the beginning and end, respectively.
Note that if RandomPartitioner is used, rows are stored in the
order of the MD5 hash of their keys, so getting a lexicographical range
of keys is not feasible.</p>
<p>In place of <cite>start</cite> and <cite>finish</cite>, you may use <cite>start_token</cite> and
<cite>finish_token</cite> or a combination of <cite>start</cite> and <cite>finish_token</cite>.  In this
case, you are specifying a token range to fetch instead of a key
range.  This can be useful for fetching all data owned
by a node or for parallelizing a full data set scan. Otherwise,
you should typically just use <cite>start</cite> and <cite>finish</cite>.  When using
RandomPartitioner or Murmur3Partitioner, <cite>start_token</cite>
and <cite>finish_token</cite> should be string versions of the numeric tokens;
for ByteOrderedPartitioner, they should be hex-encoded string versions
of the token.</p>
<p>The <cite>row_count</cite> parameter limits the total number of rows that may be
returned. If left as <tt class="docutils literal"><span class="pre">None</span></tt>, the number of rows that may be returned
is unlimted (this is the default).</p>
<p>When calling <cite>get_range()</cite>, the intermediate results need to be
buffered if we are fetching many rows, otherwise the Cassandra
server will overallocate memory and fail. <cite>buffer_size</cite> is the
size of that buffer in number of rows. If left as <tt class="docutils literal"><span class="pre">None</span></tt>, the
ColumnFamily&#8217;s <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.buffer_size" title="pycassa.columnfamily.ColumnFamily.buffer_size"><tt class="xref py py-attr docutils literal"><span class="pre">buffer_size</span></tt></a> attribute will be used.</p>
<p>When <cite>filter_empty</cite> is left as <tt class="docutils literal"><span class="pre">True</span></tt>, empty rows (including
<a class="reference external" href="http://wiki.apache.org/cassandra/FAQ#range_ghosts">range ghosts</a>)
will be skipped and will not count towards <cite>row_count</cite>.</p>
<p>All other parameters are the same as those of <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get" title="pycassa.columnfamily.ColumnFamily.get"><tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt></a>.</p>
<p>A generator over <tt class="docutils literal"><span class="pre">(key,</span> <span class="pre">{column_name:</span> <span class="pre">column_value})</span></tt> is returned.
To convert this to a list, use <tt class="docutils literal"><span class="pre">list()</span></tt> on the result.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.get_indexed_slices">
<tt class="descname">get_indexed_slices</tt><big>(</big><em>index_clause[, columns][, column_start][, column_finish][, column_reversed][, column_count][, include_timestamp][, read_consistency_level][, buffer_size]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.get_indexed_slices" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.get_range" title="pycassa.columnfamily.ColumnFamily.get_range"><tt class="xref py py-meth docutils literal"><span class="pre">get_range()</span></tt></a>, but an <tt class="xref py py-class docutils literal"><span class="pre">IndexClause</span></tt>
is used instead of a key range.</p>
<p><cite>index_clause</cite> limits the keys that are returned based on expressions
that compare the value of a column to a given value.  At least one of the
expressions in the <tt class="xref py py-class docutils literal"><span class="pre">IndexClause</span></tt> must be on an indexed column.</p>
<p>Note that Cassandra does not support secondary indexes or get_indexed_slices()
for super column families.</p>
<blockquote>
<div><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="index.html#pycassa.index.create_index_clause" title="pycassa.index.create_index_clause"><tt class="xref py py-meth docutils literal"><span class="pre">create_index_clause()</span></tt></a> and
<a class="reference internal" href="index.html#pycassa.index.create_index_expression" title="pycassa.index.create_index_expression"><tt class="xref py py-meth docutils literal"><span class="pre">create_index_expression()</span></tt></a></p>
</div>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.insert">
<tt class="descname">insert</tt><big>(</big><em>key, columns[, timestamp][, ttl][, write_consistency_level]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert or update columns in the row with key <cite>key</cite>.</p>
<p><cite>columns</cite> should be a dictionary of columns or super columns to insert
or update.  If this is a standard column family, <cite>columns</cite> should
look like <tt class="docutils literal"><span class="pre">{column_name:</span> <span class="pre">column_value}</span></tt>.  If this is a super
column family, <cite>columns</cite> should look like
<tt class="docutils literal"><span class="pre">{super_column_name:</span> <span class="pre">{sub_column_name:</span> <span class="pre">value}}</span></tt>.  If this is a
counter column family, you may use integers as values and those will
be used as counter adjustments.</p>
<p>A timestamp may be supplied for all inserted columns with <cite>timestamp</cite>.</p>
<p><cite>ttl</cite> sets the &#8220;time to live&#8221; in number of seconds for the inserted
columns. After this many seconds, Cassandra will mark the columns as
deleted.</p>
<p>The timestamp Cassandra reports as being used for insert is returned.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.batch_insert">
<tt class="descname">batch_insert</tt><big>(</big><em>rows[, timestamp][, ttl][, write_consistency_level]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.batch_insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#pycassa.columnfamily.ColumnFamily.insert" title="pycassa.columnfamily.ColumnFamily.insert"><tt class="xref py py-meth docutils literal"><span class="pre">insert()</span></tt></a>, but multiple rows may be inserted at once.</p>
<p>The <cite>rows</cite> parameter should be of the form <tt class="docutils literal"><span class="pre">{key:</span> <span class="pre">{column_name:</span> <span class="pre">column_value}}</span></tt>
if this is a standard column family or
<tt class="docutils literal"><span class="pre">{key:</span> <span class="pre">{super_column_name:</span> <span class="pre">{column_name:</span> <span class="pre">column_value}}}</span></tt> if this is a super
column family.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.add">
<tt class="descname">add</tt><big>(</big><em>key, column[, value][, super_column][, write_consistency_level]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment or decrement a counter.</p>
<p><cite>value</cite> should be an integer, either positive or negative, to be added
to a counter column. By default, <cite>value</cite> is 1.</p>
<div class="versionadded">
<p><span>New in version 1.1.0: </span>Available in Cassandra 0.8.0 and later.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.remove">
<tt class="descname">remove</tt><big>(</big><em>key[, columns][, super_column][, write_consistency_level]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a specified row or a set of columns within the row with key <cite>key</cite>.</p>
<p>A set of columns or super columns to delete may be specified using
<cite>columns</cite>.</p>
<p>A single super column may be deleted by setting <cite>super_column</cite>. If
<cite>super_column</cite> is specified, <cite>columns</cite> will apply to the subcolumns
of <cite>super_column</cite>.</p>
<p>If <cite>columns</cite> and <cite>super_column</cite> are both <tt class="docutils literal"><span class="pre">None</span></tt>, the entire row is
removed.</p>
<p>The timestamp used for the mutation is returned.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.remove_counter">
<tt class="descname">remove_counter</tt><big>(</big><em>key, column[, super_column][, write_consistency_level]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.remove_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a counter at the specified location.</p>
<p>Note that counters have limited support for deletes: if you remove a
counter, you must wait to issue any following update until the delete
has reached all the nodes and all of them have been fully compacted.</p>
<div class="versionadded">
<p><span>New in version 1.1.0: </span>Available in Cassandra 0.8.0 and later.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.truncate">
<tt class="descname">truncate</tt><big>(</big><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the entire ColumnFamily as deleted.</p>
<p>From the user&#8217;s perspective, a successful call to <tt class="docutils literal"><span class="pre">truncate</span></tt> will
result complete data deletion from this column family. Internally,
however, disk space will not be immediatily released, as with all
deletes in Cassandra, this one only marks the data as deleted.</p>
<p>The operation succeeds only if all hosts in the cluster at available
and will throw an <a class="reference internal" href="../pycassa.html#pycassa.UnavailableException" title="pycassa.UnavailableException"><tt class="xref py py-exc docutils literal"><span class="pre">UnavailableException</span></tt></a> if some hosts are
down.</p>
</dd></dl>

<dl class="method">
<dt id="pycassa.columnfamily.ColumnFamily.batch">
<tt class="descname">batch</tt><big>(</big><em>self[, queue_size][, write_consistency_level]</em><big>)</big><a class="headerlink" href="#pycassa.columnfamily.ColumnFamily.batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Create batch mutator for doing multiple insert, update, and remove
operations using as few roundtrips as possible.</p>
<p>The <cite>queue_size</cite> parameter sets the max number of mutations per request.</p>
<p>A <a class="reference internal" href="batch.html#pycassa.batch.CfMutator" title="pycassa.batch.CfMutator"><tt class="xref py py-class docutils literal"><span class="pre">CfMutator</span></tt></a> is returned.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="pool.html"
                        title="previous chapter"><tt class="docutils literal docutils literal"><span class="pre">pycassa.pool</span></tt> &#8211; Connection Pooling</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="columnfamilymap.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">pycassa.columnfamilymap</span></tt> &#8211; Maps Classes to Column Families</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/api/pycassa/columnfamily.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="columnfamilymap.html" title="pycassa.columnfamilymap – Maps Classes to Column Families"
             >next</a> |</li>
        <li class="right" >
          <a href="pool.html" title="pycassa.pool – Connection Pooling"
             >previous</a> |</li>
        <li><a href="../../index.html">pycassa 1.11.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >API Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>