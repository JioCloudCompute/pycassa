

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changelog &mdash; pycassa v1.9.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="pycassa v1.9.0 documentation" href="index.html" />
    <link rel="next" title="Assorted Cassandra and pycassa Functionality" href="assorted/index.html" />
    <link rel="prev" title="pycassa.contrib.stubs – Pycassa Stubs" href="api/pycassa/contrib/stubs.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="assorted/index.html" title="Assorted Cassandra and pycassa Functionality"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api/pycassa/contrib/stubs.html" title="pycassa.contrib.stubs – Pycassa Stubs"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">pycassa v1.9.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="changes-in-version-1-9-0">
<h2>Changes in Version 1.9.0<a class="headerlink" href="#changes-in-version-1-9-0" title="Permalink to this headline">¶</a></h2>
<p>This release adds a couple of minor new features and improves multithreaded
locking behavior in <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a>.  There should be no
backwards-compatibility concerns.</p>
<div class="section" id="features">
<h3>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Full support for <tt class="docutils literal"><span class="pre">column_start</span></tt>, <tt class="docutils literal"><span class="pre">column_finish</span></tt>, <tt class="docutils literal"><span class="pre">column_count</span></tt>, and
<tt class="docutils literal"><span class="pre">column_reversed</span></tt> parameters in <a class="reference internal" href="api/pycassa/contrib/stubs.html#module-pycassa.contrib.stubs" title="pycassa.contrib.stubs"><tt class="xref py py-mod docutils literal"><span class="pre">stubs</span></tt></a></li>
<li>Addition of an <tt class="docutils literal"><span class="pre">include_ttl</span></tt> parameter to <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a> fetching
methods which works like the existing <tt class="docutils literal"><span class="pre">include_timestamp</span></tt> parameter.</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Reduce the locked critical section in <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a>, primarily
to make sure lock aquisition time is not ignored outside of the pool&#8217;s
<tt class="docutils literal"><span class="pre">timeout</span></tt> setting.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-8-0">
<h2>Changes in Version 1.8.0<a class="headerlink" href="#changes-in-version-1-8-0" title="Permalink to this headline">¶</a></h2>
<p>This release requires either Python 2.6 or 2.7. Python 2.4 and 2.5
are no longer supported. There are no concrete plans for Python 3
compatibility yet.</p>
<div class="section" id="id1">
<h3>Features<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add configurable <tt class="docutils literal"><span class="pre">socket_factory</span></tt> attribute and constructor parameter
to <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a> and <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager" title="pycassa.system_manager.SystemManager"><tt class="xref py py-class docutils literal"><span class="pre">SystemManager</span></tt></a>.</li>
<li>Add SSL support via the new <tt class="docutils literal"><span class="pre">socket_factory</span></tt> attribute.</li>
<li>Add support for <a class="reference internal" href="api/pycassa/types.html#pycassa.types.DynamicCompositeType" title="pycassa.types.DynamicCompositeType"><tt class="xref py py-class docutils literal"><span class="pre">DynamicCompositeType</span></tt></a></li>
<li>Add mock support through a new <a class="reference internal" href="api/pycassa/contrib/stubs.html#module-pycassa.contrib.stubs" title="pycassa.contrib.stubs"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.contrib.stubs</span></tt></a> module</li>
</ul>
</div>
<div class="section" id="id2">
<h3>Bug Fixes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Don&#8217;t return closed connections to the pool. This was primarily a
problem when operations failed after retrying up to the limit,
resulting in a <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.MaximumRetryException" title="pycassa.pool.MaximumRetryException"><tt class="xref py py-exc docutils literal"><span class="pre">MaximumRetryException</span></tt></a> or
<a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.AllServersUnavailable" title="pycassa.pool.AllServersUnavailable"><tt class="xref py py-exc docutils literal"><span class="pre">AllServersUnavailable</span></tt></a>.</li>
<li>Set keyspace for connection after logging in instead of before.
This fixes authentication against Cassandra 1.2, which requires
logging in prior to setting a keyspace.</li>
<li>Specify correct UUID variant when creating v1 <tt class="xref py py-class docutils literal"><span class="pre">uuid.UUID</span></tt> objects
from datetimes or timestamps</li>
<li>Add 900ns to v1 <tt class="xref py py-class docutils literal"><span class="pre">uuid.UUID</span></tt> timestamps when the &#8220;max&#8221; TimeUUID for
a specific datetime or timestamp is requested, such as a
column slice end</li>
<li>Also look at attributes of parent classes when creating
columns from attributes in <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap" title="pycassa.columnfamilymap.ColumnFamilyMap"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamilyMap</span></tt></a></li>
</ul>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Upgrade bundled Thrift-generated python to 19.35.0, generated
with Thrift 0.9.0.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-7-2">
<h2>Changes in Version 1.7.2<a class="headerlink" href="#changes-in-version-1-7-2" title="Permalink to this headline">¶</a></h2>
<p>This release fixes a minor bug and upgrades the bundled Cassandra
Thrift client interface to 19.34.0, matching Cassandra 1.2.0-beta1.
This doesn&#8217;t affect any existing Thrift methods, only adds new ones
(that aren&#8217;t yet utilized by pycassa), so there should not be any
breakage.</p>
<div class="section" id="id3">
<h3>Bug Fixes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fix single-component composite packing</li>
<li>Avoid cyclic imports during installation in setup.py</li>
</ul>
</div>
<div class="section" id="id4">
<h3>Other<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Travis CI integration</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-7-1">
<h2>Changes in Version 1.7.1<a class="headerlink" href="#changes-in-version-1-7-1" title="Permalink to this headline">¶</a></h2>
<p>This release has few changes, and should make for a smooth upgrade
from 1.7.0.</p>
<div class="section" id="id5">
<h3>Features<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add support for DecimalType: <a class="reference internal" href="api/pycassa/types.html#pycassa.types.DecimalType" title="pycassa.types.DecimalType"><tt class="xref py py-class docutils literal"><span class="pre">DecimalType</span></tt></a></li>
</ul>
</div>
<div class="section" id="id6">
<h3>Bug Fixes<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fix bad slice ends when using <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.xget" title="pycassa.columnfamily.ColumnFamily.xget"><tt class="xref py py-meth docutils literal"><span class="pre">xget()</span></tt></a> with
composite columns and a <cite>column_finish</cite> parameter</li>
<li>Fix bad documentation paths in debian packaging scripts</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Other<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add <tt class="docutils literal"><span class="pre">__version__</span></tt> and <tt class="docutils literal"><span class="pre">__version_info__</span></tt> attributes to the
<a class="reference internal" href="api/pycassa.html#module-pycassa" title="pycassa"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa</span></tt></a> module</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-7-0">
<h2>Changes in Version 1.7.0<a class="headerlink" href="#changes-in-version-1-7-0" title="Permalink to this headline">¶</a></h2>
<p>This release has a few relatively large changes in it: a new
connection pool stats collector, compatibility with Cassandra 0.7
through 1.1, and a change in timezone behavior for datetimes.</p>
<p>Before upgrading, take special care to make sure datetimes that you
pass to pycassa (for TimeUUIDType or DateType data) are in UTC, and
make sure your code expects to get UTC datetimes back in return.</p>
<p>Likewise, the SystemManager changes <em>should</em> be backwards compatible,
but there may be minor differences, mostly in
<a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.create_column_family" title="pycassa.system_manager.SystemManager.create_column_family"><tt class="xref py py-meth docutils literal"><span class="pre">create_column_family()</span></tt></a> and
<a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.alter_column_family" title="pycassa.system_manager.SystemManager.alter_column_family"><tt class="xref py py-meth docutils literal"><span class="pre">alter_column_family()</span></tt></a>. Be sure to test any code
that works programmatically with these.</p>
<div class="section" id="id8">
<h3>Features<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added <a class="reference internal" href="api/pycassa/logging/pool_stats_logger.html#pycassa.logging.pool_stats_logger.StatsLogger" title="pycassa.logging.pool_stats_logger.StatsLogger"><tt class="xref py py-class docutils literal"><span class="pre">StatsLogger</span></tt></a> for tracking <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a>
metrics</li>
<li>Full Cassandra 1.1 compatibility in <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager" title="pycassa.system_manager.SystemManager"><tt class="xref py py-class docutils literal"><span class="pre">SystemManager</span></tt></a>. To support
this, all column family or keyspace attributes that have existed since
Cassandra 0.7 may be used as keyword arguments for
<a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.create_column_family" title="pycassa.system_manager.SystemManager.create_column_family"><tt class="xref py py-meth docutils literal"><span class="pre">create_column_family()</span></tt></a> and
<a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.alter_column_family" title="pycassa.system_manager.SystemManager.alter_column_family"><tt class="xref py py-meth docutils literal"><span class="pre">alter_column_family()</span></tt></a>.  It is up to the user to
know which attributes are available and valid for their version of
Cassandra.
As part of this change, the version-specific thrift-generated cassandra
modules (<tt class="docutils literal"><span class="pre">pycassa.cassandra.c07</span></tt>, <tt class="docutils literal"><span class="pre">pycassa.cassandra.c08</span></tt>, and
<tt class="docutils literal"><span class="pre">pycassa.cassandra.c10</span></tt>) have been replaced by <tt class="docutils literal"><span class="pre">pycassa.cassandra</span></tt>.
A minor related change is that individual connections now
now longer ask for the node&#8217;s API version, and that information is
no longer stored as an attribute of the <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionWrapper" title="pycassa.pool.ConnectionWrapper"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionWrapper</span></tt></a>.</li>
</ul>
</div>
<div class="section" id="id9">
<h3>Bug Fixes<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fix <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.xget" title="pycassa.columnfamily.ColumnFamily.xget"><tt class="xref py py-meth docutils literal"><span class="pre">xget()</span></tt></a> paging for non-string comparators</li>
<li>Add <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap.batch_insert" title="pycassa.columnfamilymap.ColumnFamilyMap.batch_insert"><tt class="xref py py-meth docutils literal"><span class="pre">batch_insert()</span></tt></a> to <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap" title="pycassa.columnfamilymap.ColumnFamilyMap"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamilyMap</span></tt></a></li>
<li>Use <cite>setattr</cite> instead of directly updating the object&#8217;s <tt class="docutils literal"><span class="pre">__dict__</span></tt> in
<a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap" title="pycassa.columnfamilymap.ColumnFamilyMap"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamilyMap</span></tt></a> to avoid breaking descriptors</li>
<li>Fix single-column counter increments with <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.insert" title="pycassa.columnfamily.ColumnFamily.insert"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.insert()</span></tt></a></li>
<li>Include <cite>AuthenticationException</cite> and <cite>AuthorizationException</cite> in
the <tt class="docutils literal"><span class="pre">pycassa</span></tt> module</li>
<li>Support counters in <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.xget" title="pycassa.columnfamily.ColumnFamily.xget"><tt class="xref py py-meth docutils literal"><span class="pre">xget()</span></tt></a></li>
<li>Sort column families in pycassaShell for display</li>
<li>Raise <tt class="docutils literal"><span class="pre">TypeError</span></tt> when bad keyword arguments are used when creating
a <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a> object</li>
</ul>
</div>
<div class="section" id="id10">
<h3>Other<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>All <tt class="docutils literal"><span class="pre">datetime</span></tt> objects create by pycassa now use UTC as their timezone
rather than the local timezone. Likewise, naive <tt class="docutils literal"><span class="pre">datetime</span></tt> objects that are
passed to pycassa are now assumed to be in UTC time, but <tt class="docutils literal"><span class="pre">tz_info</span></tt> is respected
if set.</p>
<p>Specifically, the types of data that you may need to make adjustments for
when upgrading are TimeUUIDType and DateType (including OldPycassaDateType
and IntermediateDateType).</p>
</div>
</div>
<div class="section" id="changes-in-version-1-6-0">
<h2>Changes in Version 1.6.0<a class="headerlink" href="#changes-in-version-1-6-0" title="Permalink to this headline">¶</a></h2>
<p>This release adds a few minor features and several important bug fixes.</p>
<p>The most important change to take note of if you are using composite
comparators is the change to the default inclusive/exclusive behavior
for slice ends.</p>
<p>Other than that, this should be a smooth upgrade from 1.5.x.</p>
<div class="section" id="id11">
<h3>Features<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New script for easily building RPM packages</li>
<li>Add request and parameter information to PoolListener callback</li>
<li>Add <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.xget" title="pycassa.columnfamily.ColumnFamily.xget"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.xget()</span></tt></a>, a generator version of
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get" title="pycassa.columnfamily.ColumnFamily.get"><tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt></a> that automatically pages over columns
in reasonably sized chunks</li>
<li>Add support for Int32Type, a 4-byte signed integer format</li>
<li>Add constants for the highest and lowest possible TimeUUID values
to <a class="reference internal" href="api/pycassa/util.html#module-pycassa.util" title="pycassa.util"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.util</span></tt></a></li>
</ul>
</div>
<div class="section" id="id12">
<h3>Bug Fixes<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Various 2.4 syntax errors</li>
<li>Raise <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.AllServersUnavailable" title="pycassa.pool.AllServersUnavailable"><tt class="xref py py-exc docutils literal"><span class="pre">AllServersUnavailable</span></tt></a> if <tt class="docutils literal"><span class="pre">server_list</span></tt> is empty</li>
<li>Handle custom types inside of composites</li>
<li>Don&#8217;t erase <tt class="docutils literal"><span class="pre">comment</span></tt> when updating column families</li>
<li>Match Cassandra&#8217;s sorting of TimeUUIDType values when the timestamps
tie.  This could result in some columns being erroneously left off of
the end of column slices when datetime objects or timestamps were used
for <tt class="docutils literal"><span class="pre">column_start</span></tt> or <tt class="docutils literal"><span class="pre">column_finish</span></tt></li>
<li>Use gevent&#8217;s queue in place of the stdlib version when gevent monkeypatching
has been applied</li>
<li>Avoid sub-microsecond loss of precision with TimeUUID timestamps when using
<a class="reference internal" href="api/pycassa/util.html#pycassa.util.convert_time_to_uuid" title="pycassa.util.convert_time_to_uuid"><tt class="xref py py-func docutils literal"><span class="pre">pycassa.util.convert_time_to_uuid()</span></tt></a></li>
<li>Make default slice ends inclusive when using <tt class="docutils literal"><span class="pre">CompositeType</span></tt> comparator
Previously, the end of the slice was exclusive by default (as was the start
of the slice when <tt class="docutils literal"><span class="pre">column_reversed</span></tt> was <tt class="xref docutils literal"><span class="pre">True</span></tt>)</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-5-1">
<h2>Changes in Version 1.5.1<a class="headerlink" href="#changes-in-version-1-5-1" title="Permalink to this headline">¶</a></h2>
<p>This release only affects those of you using DateType data,
which has been supported since pycassa 1.2.0.  If you are
using DateType, it is <strong>very</strong> important that you read this
closely.</p>
<p>DateType data is internally stored as an 8 byte integer timestamp.
Since version 1.2.0 of pycassa, the timestamp stored has counted
the number of <em>microseconds</em> since the unix epoch.  The actual
format that Cassandra standardizes on is <em>milliseconds</em> since the
epoch.</p>
<p>If you are only using pycassa, you probably won&#8217;t have noticed any
problems with this. However, if you try to use cassandra-cli,
sstable2json, Hector, or any other client that supports DateType,
DateType data written by pycassa will appear to be far in the future.
Similarly, DateType data written by other clients will appear to
be in the past when loaded by pycassa.</p>
<p>This release changes the default DateType behavior to comply with
the standard, millisecond-based format.  <strong>If you use DateType,
and you upgrade to this release without making any modifications,
you will have problems.</strong>  Unfortunately, this is a bit of a tricky
situation to resolve, but the appropriate actions to take are detailed
below.</p>
<p>To temporarily continue using the old behavior, a new class
has been created: <a class="reference internal" href="api/pycassa/types.html#pycassa.types.OldPycassaDateType" title="pycassa.types.OldPycassaDateType"><tt class="xref py py-class docutils literal"><span class="pre">pycassa.types.OldPycassaDateType</span></tt></a>.
This will read and write DateType data exactly the same as
pycassa 1.2.0 to 1.5.0 did.</p>
<p>If you want to convert your data to the new format, the other
new class, <a class="reference internal" href="api/pycassa/types.html#pycassa.types.IntermediateDateType" title="pycassa.types.IntermediateDateType"><tt class="xref py py-class docutils literal"><span class="pre">pycassa.types.IntermediateDateType</span></tt></a>, may be useful.
It can read either the new or old format correctly (unless you have
used dates close to 1970 with the new format) and will write only
the new format. The best case for using this is if you have DateType
validated columns that don&#8217;t have a secondary index on them.</p>
<p>To tell pycassa to use <a class="reference internal" href="api/pycassa/types.html#pycassa.types.OldPycassaDateType" title="pycassa.types.OldPycassaDateType"><tt class="xref py py-class docutils literal"><span class="pre">OldPycassaDateType</span></tt></a> or
<a class="reference internal" href="api/pycassa/types.html#pycassa.types.IntermediateDateType" title="pycassa.types.IntermediateDateType"><tt class="xref py py-class docutils literal"><span class="pre">IntermediateDateType</span></tt></a>, use the <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a>
attributes that control types: <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.column_name_class" title="pycassa.columnfamily.ColumnFamily.column_name_class"><tt class="xref py py-attr docutils literal"><span class="pre">column_name_class</span></tt></a>,
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.key_validation_class" title="pycassa.columnfamily.ColumnFamily.key_validation_class"><tt class="xref py py-attr docutils literal"><span class="pre">key_validation_class</span></tt></a>,
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.column_validators" title="pycassa.columnfamily.ColumnFamily.column_validators"><tt class="xref py py-attr docutils literal"><span class="pre">column_validators</span></tt></a>, and so on.  Here&#8217;s an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pycassa.types</span> <span class="kn">import</span> <span class="n">OldPycassaDateType</span><span class="p">,</span> <span class="n">IntermediateDateType</span>
<span class="kn">from</span> <span class="nn">pycassa.column_family</span> <span class="kn">import</span> <span class="n">ColumnFamily</span>
<span class="kn">from</span> <span class="nn">pycassa.pool</span> <span class="kn">import</span> <span class="n">ConnectionPool</span>

<span class="n">pool</span> <span class="o">=</span> <span class="n">ConnectionPool</span><span class="p">(</span><span class="s">&#39;MyKeyspace&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;192.168.1.1&#39;</span><span class="p">])</span>

<span class="c"># Our tweet timeline has a comparator_type of DateType</span>
<span class="n">tweet_timeline_cf</span> <span class="o">=</span> <span class="n">ColumnFamily</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="s">&#39;tweets&#39;</span><span class="p">)</span>
<span class="n">tweet_timeline_cf</span><span class="o">.</span><span class="n">column_name_class</span> <span class="o">=</span> <span class="n">OldPycassaDateType</span><span class="p">()</span>

<span class="c"># Our tweet timeline has a comparator_type of DateType</span>
<span class="n">users_cf</span> <span class="o">=</span> <span class="n">ColumnFamily</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="s">&#39;users&#39;</span><span class="p">)</span>
<span class="n">users_cf</span><span class="o">.</span><span class="n">column_validators</span><span class="p">[</span><span class="s">&#39;join_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">IntermediateDateType</span><span class="p">()</span>
</pre></div>
</div>
<p>If you&#8217;re using DateType for the <cite>key_validation_class</cite>, column names,
column values with a secondary index on them, or are using the DateType
validated column as a non-indexed part of an index clause with
<cite>get_indexed_slices()</cite> (eg. &#8220;where state = &#8216;TX&#8217; and join_date &gt; 2012&#8221;),
you need to be more careful about the conversion process, and
<a class="reference internal" href="api/pycassa/types.html#pycassa.types.IntermediateDateType" title="pycassa.types.IntermediateDateType"><tt class="xref py py-class docutils literal"><span class="pre">IntermediateDateType</span></tt></a> probably isn&#8217;t a good choice.</p>
<p>In most of cases, if you want to switch to the new date format,
a manual migration script to convert all existing DateType
data to the new format will be needed. In particular, if you
convert keys, column names, or indexed columns on a live data set,
be very careful how you go about it. If you need any assistance or
suggestions at all with migrating your data, please feel free to
send an email to <a class="reference external" href="mailto:tyler&#37;&#52;&#48;datastax&#46;com">tyler<span>&#64;</span>datastax<span>&#46;</span>com</a>; I would be glad to help.</p>
</div>
<div class="section" id="changes-in-version-1-5-0">
<h2>Changes in Version 1.5.0<a class="headerlink" href="#changes-in-version-1-5-0" title="Permalink to this headline">¶</a></h2>
<p>The main change to be aware of for this release is the
new no-retry behavior for counter operations.  If you have been
maintaining a separate connection pool with retries disabled
for usage with counters, you may discontinue that practice
after upgrading.</p>
<div class="section" id="id13">
<h3>Features<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>By default, counter operations will not be retried
automatically. This makes it easier to use a single
connection pool without worrying about overcounting.</li>
</ul>
</div>
<div class="section" id="id14">
<h3>Bug Fixes<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Don&#8217;t remove entire row when an empty list is supplied for the
<cite>columns</cite> parameter of <tt class="xref py py-meth docutils literal"><span class="pre">remove()</span></tt> or the
batch remove methods.</li>
<li>Add python-setuptools to debian build dependencies</li>
<li>Batch <a class="reference internal" href="api/pycassa/batch.html#pycassa.batch.Mutator.remove" title="pycassa.batch.Mutator.remove"><tt class="xref py py-meth docutils literal"><span class="pre">remove()</span></tt></a> was not removing subcolumns
when the specified supercolumn was 0 or other &#8220;falsey&#8221; values</li>
<li>Don&#8217;t request an extra row when reading fewer than <cite>buffer_size</cite>
rows with <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_range" title="pycassa.columnfamily.ColumnFamily.get_range"><tt class="xref py py-meth docutils literal"><span class="pre">get_range()</span></tt></a> or
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_indexed_slices" title="pycassa.columnfamily.ColumnFamily.get_indexed_slices"><tt class="xref py py-meth docutils literal"><span class="pre">get_indexed_slices()</span></tt></a>.</li>
<li>Remove <cite>pool_type</cite> from logs, which showed up as <tt class="xref docutils literal"><span class="pre">None</span></tt> in
recent versions</li>
<li>Logs were erroneously showing the same server for retries
of failed operations even when the actual server being
queried had changed</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-4-0">
<h2>Changes in Version 1.4.0<a class="headerlink" href="#changes-in-version-1-4-0" title="Permalink to this headline">¶</a></h2>
<p>This release is primarily a bugfix release with a couple
of minor features and removed deprecated items.</p>
<div class="section" id="id15">
<h3>Features<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Accept column_validation_classes when creating or altering
column families with SystemManager</li>
<li>Ignore UNREACHABLE nodes when waiting for schema version
agreement</li>
</ul>
</div>
<div class="section" id="id16">
<h3>Bug Fixes<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Remove accidental print statement in SystemManager</li>
<li>Raise TypeError when unexpected types are used for
comparator or validator types when creating or altering
a Column Family</li>
<li>Fix packing of column values using column-specific validators
during batch inserts when the column name is changed by packing</li>
<li>Always return timestamps from inserts</li>
<li>Fix NameError when timestamps are used where a DateType is
expected</li>
<li>Fix NameError in python 2.4 when unpacking DateType objects</li>
<li>Handle reading composites with trailing components missing</li>
<li>Upgrade ez_setup.py to fix broken setuptools link</li>
</ul>
</div>
<div class="section" id="removed-deprecated-items">
<h3>Removed Deprecated Items<a class="headerlink" href="#removed-deprecated-items" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.connect()</span></tt></li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.connect_thread_local()</span></tt></li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">ConnectionPool.status()</span></tt></li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">ConnectionPool.recreate()</span></tt></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-3-0">
<h2>Changes in Version 1.3.0<a class="headerlink" href="#changes-in-version-1-3-0" title="Permalink to this headline">¶</a></h2>
<p>This release adds full compatibility with Cassandra 1.0 and
removes support for schema manipulation in Cassandra 0.7.</p>
<p>In this release, schema manipulation should work with Cassandra 0.8
and 1.0, but not 0.7.  The data API should continue to work with all
three versions.</p>
<div class="section" id="id17">
<h3>Bug Fixes<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Don&#8217;t ignore <cite>columns</cite> parameter in <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap.insert" title="pycassa.columnfamilymap.ColumnFamilyMap.insert"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamilyMap.insert()</span></tt></a></li>
<li>Handle empty instance fields in <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap.insert" title="pycassa.columnfamilymap.ColumnFamilyMap.insert"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamilyMap.insert()</span></tt></a></li>
<li>Use the same default for <cite>timeout</cite> in <tt class="xref py py-meth docutils literal"><span class="pre">pycassa.connect()</span></tt> as
<a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a> uses</li>
<li>Fix typo which caused a different exception to be thrown when an
<a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.AllServersUnavailable" title="pycassa.pool.AllServersUnavailable"><tt class="xref py py-exc docutils literal"><span class="pre">AllServersUnavailable</span></tt></a> exception was raised</li>
<li>IPython 0.11 compatibility in pycassaShell</li>
<li>Correct dependency declaration in <tt class="file docutils literal"><span class="pre">setup.py</span></tt></li>
<li>Add UUIDType to supported types</li>
</ul>
</div>
<div class="section" id="id18">
<h3>Features<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <cite>filter_empty</cite> parameter was added to
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_range" title="pycassa.columnfamily.ColumnFamily.get_range"><tt class="xref py py-meth docutils literal"><span class="pre">get_range()</span></tt></a> with a default of <tt class="xref docutils literal"><span class="pre">True</span></tt>; this
allows empty rows to be kept if desired</li>
</ul>
</div>
<div class="section" id="deprecated">
<h3>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.connect()</span></tt></li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.connect_thread_local()</span></tt></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-2-1">
<h2>Changes in Version 1.2.1<a class="headerlink" href="#changes-in-version-1-2-1" title="Permalink to this headline">¶</a></h2>
<p>This is strictly a bug-fix release addressing a few
issues created in 1.2.0.</p>
<div class="section" id="id19">
<h3>Bug Fixes<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Correctly check for Counters in <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a>
when setting <cite>default_validation_class</cite></li>
<li>Pass kwargs in <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap" title="pycassa.columnfamilymap.ColumnFamilyMap"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamilyMap</span></tt></a> to
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a></li>
<li>Avoid potential UnboundLocal in <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool.execute" title="pycassa.pool.ConnectionPool.execute"><tt class="xref py py-meth docutils literal"><span class="pre">ConnectionPool.execute()</span></tt></a>
when <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool.get" title="pycassa.pool.ConnectionPool.get"><tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt></a> fails</li>
<li>Fix ez_setup dependency/bundling so that package installations
using easy_install or pip don&#8217;t fail without ez_setup installed</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-2-0">
<h2>Changes in Version 1.2.0<a class="headerlink" href="#changes-in-version-1-2-0" title="Permalink to this headline">¶</a></h2>
<p>This should be a fairly smooth upgrade from pycassa 1.1. The
primary changes that may introduce minor incompatibilities are
the changes to <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap" title="pycassa.columnfamilymap.ColumnFamilyMap"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamilyMap</span></tt></a> and the automatic
skipping of &#8220;ghost ranges&#8221; in <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_range" title="pycassa.columnfamily.ColumnFamily.get_range"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.get_range()</span></tt></a>.</p>
<div class="section" id="id20">
<h3>Features<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool.fill" title="pycassa.pool.ConnectionPool.fill"><tt class="xref py py-meth docutils literal"><span class="pre">ConnectionPool.fill()</span></tt></a></li>
<li>Add <a class="reference internal" href="api/pycassa/types.html#pycassa.types.FloatType" title="pycassa.types.FloatType"><tt class="xref py py-class docutils literal"><span class="pre">FloatType</span></tt></a>, <a class="reference internal" href="api/pycassa/types.html#pycassa.types.DoubleType" title="pycassa.types.DoubleType"><tt class="xref py py-class docutils literal"><span class="pre">DoubleType</span></tt></a>,
<a class="reference internal" href="api/pycassa/types.html#pycassa.types.DateType" title="pycassa.types.DateType"><tt class="xref py py-class docutils literal"><span class="pre">DateType</span></tt></a>, and <tt class="xref py py-class docutils literal"><span class="pre">BooleanType</span></tt> support.</li>
<li>Add <a class="reference internal" href="api/pycassa/types.html#pycassa.types.CompositeType" title="pycassa.types.CompositeType"><tt class="xref py py-class docutils literal"><span class="pre">CompositeType</span></tt></a> support for static composites.
See <a class="reference internal" href="assorted/composite_types.html#composite-types"><em>Composite Types</em></a> for more details.</li>
<li>Add <cite>timestamp</cite>, <cite>ttl</cite> to <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap.insert" title="pycassa.columnfamilymap.ColumnFamilyMap.insert"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamilyMap.insert()</span></tt></a>
params</li>
<li>Support variable-length integers with <a class="reference internal" href="api/pycassa/types.html#pycassa.types.IntegerType" title="pycassa.types.IntegerType"><tt class="xref py py-class docutils literal"><span class="pre">IntegerType</span></tt></a>.
This allows more space-efficient small integers as well as
integers that exceed the size of a long.</li>
<li>Make <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap" title="pycassa.columnfamilymap.ColumnFamilyMap"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamilyMap</span></tt></a> a subclass of
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a> instead of using one as a component.
This allows all of the normal adjustments normally done
to a <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a> to be done to a <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap" title="pycassa.columnfamilymap.ColumnFamilyMap"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamilyMap</span></tt></a>
instead. See <a class="reference internal" href="assorted/column_family_map.html#column-family-map"><em>Class Mapping with Column Family Map</em></a> for examples of
using the new version.</li>
<li>Expose the following <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a> attributes,
allowing them to be altered after creation:
<a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool.max_overflow" title="pycassa.pool.ConnectionPool.max_overflow"><tt class="xref py py-attr docutils literal"><span class="pre">max_overflow</span></tt></a>, <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool.pool_timeout" title="pycassa.pool.ConnectionPool.pool_timeout"><tt class="xref py py-attr docutils literal"><span class="pre">pool_timeout</span></tt></a>,
<a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool.recycle" title="pycassa.pool.ConnectionPool.recycle"><tt class="xref py py-attr docutils literal"><span class="pre">recycle</span></tt></a>, <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool.max_retries" title="pycassa.pool.ConnectionPool.max_retries"><tt class="xref py py-attr docutils literal"><span class="pre">max_retries</span></tt></a>,
and <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool.logging_name" title="pycassa.pool.ConnectionPool.logging_name"><tt class="xref py py-attr docutils literal"><span class="pre">logging_name</span></tt></a>.
Previously, these were all supplied as constructor arguments.
Now, the preferred way to set them is to alter the attributes
after creation. (However, they may still be set in the
constructor by using keyword arguments.)</li>
<li>Automatically skip &#8220;ghost ranges&#8221; in <tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.get_range()</span></tt>.
Rows without any columns will not be returned by the generator,
and these rows will not count towards the supplied <cite>row_count</cite>.</li>
</ul>
</div>
<div class="section" id="id21">
<h3>Bug Fixes<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add connections to <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a> more readily
when <cite>prefill</cite> is <tt class="xref docutils literal"><span class="pre">False</span></tt>.
Before this change, if the ConnectionPool was created with
<tt class="docutils literal"><span class="pre">prefill=False</span></tt>, connections would only be added to the pool
when there was concurrent demand for connections.
After this change, if <tt class="docutils literal"><span class="pre">prefill=False</span></tt> and <tt class="docutils literal"><span class="pre">pool_size=N</span></tt>, the
first <cite>N</cite> operations will each result in a new connection
being added to the pool.</li>
<li>Close connection and adjust the <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a>&#8216;s
connection count after a <tt class="xref py py-exc docutils literal"><span class="pre">TApplicationException</span></tt>. This
exception generally indicates programmer error, so it&#8217;s not
extremely common.</li>
<li>Handle typed keys that evaluate to <tt class="xref docutils literal"><span class="pre">False</span></tt></li>
</ul>
</div>
<div class="section" id="id22">
<h3>Deprecated<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="xref py py-meth docutils literal"><span class="pre">ConnectionPool.recreate()</span></tt></li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">ConnectionPool.status()</span></tt></li>
</ul>
</div>
<div class="section" id="miscellaneous">
<h3>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Better failure messages for <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a> failures</li>
<li>More efficient packing and unpacking</li>
<li>More efficient multi-column inserts in <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.insert" title="pycassa.columnfamily.ColumnFamily.insert"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.insert()</span></tt></a>
and <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.batch_insert" title="pycassa.columnfamily.ColumnFamily.batch_insert"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.batch_insert()</span></tt></a></li>
<li>Prefer Python 2.7&#8217;s <tt class="xref py py-class docutils literal"><span class="pre">collections.OrderedDict</span></tt> over the
bundled version when available</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-1-1">
<h2>Changes in Version 1.1.1<a class="headerlink" href="#changes-in-version-1-1-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id23">
<h3>Features<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add <tt class="docutils literal"><span class="pre">max_count</span></tt> and <tt class="docutils literal"><span class="pre">column_reversed</span></tt> params to <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_count" title="pycassa.columnfamily.ColumnFamily.get_count"><tt class="xref py py-meth docutils literal"><span class="pre">get_count()</span></tt></a></li>
<li>Add <tt class="docutils literal"><span class="pre">max_count</span></tt> and <tt class="docutils literal"><span class="pre">column_reversed</span></tt> params to <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.multiget_count" title="pycassa.columnfamily.ColumnFamily.multiget_count"><tt class="xref py py-meth docutils literal"><span class="pre">multiget_count()</span></tt></a></li>
</ul>
</div>
<div class="section" id="id24">
<h3>Bug Fixes<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Don&#8217;t retry operations after a <tt class="docutils literal"><span class="pre">TApplicationException</span></tt>. This exception
is reserved for programmatic errors (such as a bad API parameters), so
retries are not needed.</li>
<li>If the read_consistency_level kwarg was used in a <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a>
constructor, it would be ignored, resulting in a default read consistency
level of <tt class="xref py py-const docutils literal"><span class="pre">ONE</span></tt>. This did not affect the read consistency level if it was
specified in any other way, including per-method or by setting the
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.read_consistency_level" title="pycassa.columnfamily.ColumnFamily.read_consistency_level"><tt class="xref py py-attr docutils literal"><span class="pre">read_consistency_level</span></tt></a> attribute.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-1-0">
<h2>Changes in Version 1.1.0<a class="headerlink" href="#changes-in-version-1-1-0" title="Permalink to this headline">¶</a></h2>
<p>This release adds compatibility with Cassandra 0.8, including support
for counters and key_validation_class. This release is
backwards-compatible with Cassandra 0.7, and can support running against
a mixed cluster of both Cassandra 0.7 and 0.8.</p>
<div class="section" id="changes-related-to-cassandra-0-8">
<h3>Changes related to Cassandra 0.8<a class="headerlink" href="#changes-related-to-cassandra-0-8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Addition of <tt class="xref py py-data docutils literal"><span class="pre">COUNTER_COLUMN_TYPE</span></tt> to
<a class="reference internal" href="api/pycassa/system_manager.html#module-pycassa.system_manager" title="pycassa.system_manager"><tt class="xref py py-mod docutils literal"><span class="pre">system_manager</span></tt></a>.</li>
<li>Several new column family attributes, including <tt class="docutils literal"><span class="pre">key_validation_class</span></tt>,
<tt class="docutils literal"><span class="pre">replicate_on_write</span></tt>, <tt class="docutils literal"><span class="pre">merge_shards_chance</span></tt>, <tt class="docutils literal"><span class="pre">row_cache_provider</span></tt>,
and <tt class="docutils literal"><span class="pre">key_alias</span></tt>.</li>
<li>The new <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.add" title="pycassa.columnfamily.ColumnFamily.add"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.add()</span></tt></a> and <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.remove_counter" title="pycassa.columnfamily.ColumnFamily.remove_counter"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.remove_counter()</span></tt></a>
methods.</li>
<li>Support for counters in <a class="reference internal" href="api/pycassa/batch.html#module-pycassa.batch" title="pycassa.batch"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.batch</span></tt></a> and
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.batch_insert" title="pycassa.columnfamily.ColumnFamily.batch_insert"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.batch_insert()</span></tt></a>.</li>
<li>Autopacking of keys based on <tt class="docutils literal"><span class="pre">key_validation_class</span></tt>.</li>
</ul>
</div>
<div class="section" id="other-features">
<h3>Other Features<a class="headerlink" href="#other-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.multiget" title="pycassa.columnfamily.ColumnFamily.multiget"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.multiget()</span></tt></a> now has a <cite>buffer_size</cite> parameter</li>
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.multiget_count" title="pycassa.columnfamily.ColumnFamily.multiget_count"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.multiget_count()</span></tt></a> now returns rows
in the order that the keys were passed in, similar to how
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.multiget" title="pycassa.columnfamily.ColumnFamily.multiget"><tt class="xref py py-meth docutils literal"><span class="pre">multiget()</span></tt></a> behaves. It also uses
the <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.dict_class" title="pycassa.columnfamily.ColumnFamily.dict_class"><tt class="xref py py-attr docutils literal"><span class="pre">dict_class</span></tt></a> attribute for the containing
class instead of always using a <tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt>.</li>
<li>Autpacking behavior is now more transparent and configurable,
allowing the user to get functionality similar to the CLI&#8217;s
<tt class="docutils literal"><span class="pre">assume</span></tt> command, whereby items are packed and unpacked as
though they were a certain data type, even if Cassandra does
not use a matching comparator type or validation class. This
behavior can be controlled through the following attributes:<ul>
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.column_name_class" title="pycassa.columnfamily.ColumnFamily.column_name_class"><tt class="xref py py-attr docutils literal"><span class="pre">ColumnFamily.column_name_class</span></tt></a></li>
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.super_column_name_class" title="pycassa.columnfamily.ColumnFamily.super_column_name_class"><tt class="xref py py-attr docutils literal"><span class="pre">ColumnFamily.super_column_name_class</span></tt></a></li>
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.key_validation_class" title="pycassa.columnfamily.ColumnFamily.key_validation_class"><tt class="xref py py-attr docutils literal"><span class="pre">ColumnFamily.key_validation_class</span></tt></a></li>
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.default_validation_class" title="pycassa.columnfamily.ColumnFamily.default_validation_class"><tt class="xref py py-attr docutils literal"><span class="pre">ColumnFamily.default_validation_class</span></tt></a></li>
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.column_validators" title="pycassa.columnfamily.ColumnFamily.column_validators"><tt class="xref py py-attr docutils literal"><span class="pre">ColumnFamily.column_validators</span></tt></a></li>
</ul>
</li>
<li>A <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a> may reload its schema to handle
changes in validation classes with <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.load_schema" title="pycassa.columnfamily.ColumnFamily.load_schema"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.load_schema()</span></tt></a>.</li>
</ul>
</div>
<div class="section" id="id25">
<h3>Bug Fixes<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<p>There were several related issues with overlow in <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a>:</p>
<ul class="simple">
<li>Connection failures when a <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a> was in a state
of overflow would not result in adjustment of the overflow counter,
eventually leading the <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a> to refuse to create
new connections.</li>
<li>Settings of -1 for <tt class="xref py py-attr docutils literal"><span class="pre">ConnectionPool.overflow</span></tt> erroneously caused
overflow to be disabled.</li>
<li>If overflow was enabled in conjunction with <cite>prefill</cite> being disabled,
the effective overflow limit was raised to <tt class="docutils literal"><span class="pre">max_overflow</span> <span class="pre">+</span> <span class="pre">pool_size</span></tt>.</li>
</ul>
</div>
<div class="section" id="id26">
<h3>Other<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Overflow is now disabled by default in <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionPool</span></tt></a>.</li>
<li><a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap" title="pycassa.columnfamilymap.ColumnFamilyMap"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamilyMap</span></tt></a> now sets the underlying <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a>&#8216;s
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.autopack_names" title="pycassa.columnfamily.ColumnFamily.autopack_names"><tt class="xref py py-attr docutils literal"><span class="pre">autopack_names</span></tt></a> and
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.autopack_values" title="pycassa.columnfamily.ColumnFamily.autopack_values"><tt class="xref py py-attr docutils literal"><span class="pre">autopack_values</span></tt></a> attributes to <tt class="xref docutils literal"><span class="pre">False</span></tt> upon
construction.</li>
<li>Documentation and tests will no longer be included in the
packaged tarballs.</li>
</ul>
</div>
<div class="section" id="id27">
<h3>Removed Deprecated Items<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<p>The following deprecated items have been removed:</p>
<ul class="simple">
<li><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamilyMap.get_count()</span></tt></li>
<li>The <cite>instance</cite> parameter from <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap.get_indexed_slices" title="pycassa.columnfamilymap.ColumnFamilyMap.get_indexed_slices"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamilyMap.get_indexed_slices()</span></tt></a></li>
<li>The <tt class="xref py py-class docutils literal"><span class="pre">Int64</span></tt> Column type.</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">SystemManager.get_keyspace_description()</span></tt></li>
</ul>
</div>
<div class="section" id="id28">
<h3>Deprecated<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<p>Athough not technically deprecated, most <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a>
constructor arguments should instead be set by setting the
corresponding attribute on the <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a> after
construction. However, all previous constructor arguments
will continue to be supported if passed as keyword arguments.</p>
</div>
</div>
<div class="section" id="changes-in-version-1-0-8">
<h2>Changes in Version 1.0.8<a class="headerlink" href="#changes-in-version-1-0-8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Pack <tt class="xref py py-class docutils literal"><span class="pre">IndexExpression</span></tt> values in <a class="reference internal" href="api/pycassa/columnfamilymap.html#pycassa.columnfamilymap.ColumnFamilyMap.get_indexed_slices" title="pycassa.columnfamilymap.ColumnFamilyMap.get_indexed_slices"><tt class="xref py py-meth docutils literal"><span class="pre">get_indexed_slices()</span></tt></a>
that are supplied through the <tt class="xref py py-class docutils literal"><span class="pre">IndexClause</span></tt> instead of just the <cite>instance</cite>
parameter.</li>
<li>Column names and values which use Cassandra&#8217;s IntegerType are unpacked as though they
are in a BigInteger-like format. This is (backwards) compatible with the format
that pycassa uses to pack IntegerType data. This fixes an incompatibility with
the format that cassandra-cli and other clients use to pack IntegerType data.</li>
<li>Restore Python 2.5 compatibility that was broken through out of order keyword
arguments in <a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionWrapper" title="pycassa.pool.ConnectionWrapper"><tt class="xref py py-class docutils literal"><span class="pre">ConnectionWrapper</span></tt></a>.</li>
<li>Pack <cite>column_start</cite> and <cite>column_finish</cite> arguments in <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">ColumnFamily</span></tt></a>
<tt class="docutils literal"><span class="pre">*get*()</span></tt> methods when the <cite>super_column</cite> parameter is used.</li>
<li>Issue a <tt class="xref py py-class docutils literal"><span class="pre">DeprecationWarning</span></tt> when a method, parameter, or class that
has been deprecated is used. Most of these have been deprecated for several
releases, but no warnings were issued until now.</li>
<li>Deprecations are now split into separate sections for each release in the
changelog.</li>
</ul>
<div class="section" id="id29">
<h3>Deprecated<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <cite>instance</cite> parameter of <tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamilyMap.get_indexed_slices()</span></tt></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-0-7">
<h2>Changes in Version 1.0.7<a class="headerlink" href="#changes-in-version-1-0-7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Catch KeyError in <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.multiget" title="pycassa.columnfamily.ColumnFamily.multiget"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.columnfamily.ColumnFamily.multiget()</span></tt></a> empty
row removal. If the same non-existent key was passed multiple times, a
<tt class="xref py py-exc docutils literal"><span class="pre">KeyError</span></tt> was raised when trying to remove it from the OrderedDictionary
after the first removal. The <tt class="xref py py-exc docutils literal"><span class="pre">KeyError</span></tt> is caught and ignored now.</li>
<li>Handle connection failures during retries. When a connection fails, it tries to
create a new connection to replace itself. Exceptions during this process were
not properly handled; they are now handled and count towards the retry count for
the current operation.</li>
<li>Close connection when a <tt class="xref py py-exc docutils literal"><span class="pre">MaximumRetryException</span></tt> is raised. Normally a connection
is closed when an operation it is performing fails, but this was not happening
for the final failure that triggers the <tt class="xref py py-exc docutils literal"><span class="pre">MaximumRetryException</span></tt>.</li>
</ul>
</div>
<div class="section" id="changes-in-version-1-0-6">
<h2>Changes in Version 1.0.6<a class="headerlink" href="#changes-in-version-1-0-6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add <tt class="xref py py-exc docutils literal"><span class="pre">EOFError</span></tt> to the list of exceptions that cause a connection swap and retry</li>
<li>Improved autopacking efficiency for AsciiType, UTF8Type, and BytesType</li>
<li>Preserve sub-second timestamp precision in datetime arguments for insertion
or slice bounds where a TimeUUID is expected. Previously, precision below a
second was lost.</li>
<li>In a <tt class="xref py py-exc docutils literal"><span class="pre">MaximumRetryException</span></tt>&#8216;s message, include details about the last
<tt class="xref py py-exc docutils literal"><span class="pre">Exception</span></tt> that caused the <tt class="xref py py-exc docutils literal"><span class="pre">MaximumRetryException</span></tt> to be raised</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.pool.ConnectionPool.status()</span></tt> now always reports a non-negative
overflow; 0 is now used when there is not currently any overflow</li>
<li>Created <tt class="xref py py-class docutils literal"><span class="pre">pycassa.types.Long</span></tt> as a replacement for <tt class="xref py py-class docutils literal"><span class="pre">pycassa.types.Int64</span></tt>.
<tt class="xref py py-class docutils literal"><span class="pre">Long</span></tt> uses big-endian encoding, which is compatible with Cassandra&#8217;s LongType,
while <tt class="xref py py-class docutils literal"><span class="pre">Int64</span></tt> used little-endian encoding.</li>
</ul>
<div class="section" id="id30">
<h3>Deprecated<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">pycassa.types.Int64</span></tt> has been deprecated in favor of <tt class="xref py py-class docutils literal"><span class="pre">pycassa.types.Long</span></tt></li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-0-5">
<h2>Changes in Version 1.0.5<a class="headerlink" href="#changes-in-version-1-0-5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Assume port 9160 if only a hostname is given</li>
<li>Remove super_column param from <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_indexed_slices" title="pycassa.columnfamily.ColumnFamily.get_indexed_slices"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.columnfamily.ColumnFamily.get_indexed_slices()</span></tt></a></li>
<li>Enable failover on functions that previously lacked it</li>
<li>Increase base backoff time to 0.01 seconds</li>
<li>Add a timeout paremeter to <tt class="xref py py-class docutils literal"><span class="pre">pycassa.system_manager.SystemManger</span></tt></li>
<li>Return timestamp on single-column inserts</li>
</ul>
</div>
<div class="section" id="changes-in-version-1-0-4">
<h2>Changes in Version 1.0.4<a class="headerlink" href="#changes-in-version-1-0-4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed threadlocal issues that broke multithreading</li>
<li>Fix bug in <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.remove" title="pycassa.columnfamily.ColumnFamily.remove"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.columnfamily.ColumnFamily.remove()</span></tt></a> when a super_column
argument is supplied</li>
<li>Fix minor PoolLogger logging bugs</li>
<li>Added <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.describe_partitioner" title="pycassa.system_manager.SystemManager.describe_partitioner"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.describe_partitioner()</span></tt></a></li>
<li>Added <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.describe_snitch" title="pycassa.system_manager.SystemManager.describe_snitch"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.describe_snitch()</span></tt></a></li>
<li>Added <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.get_keyspace_properties" title="pycassa.system_manager.SystemManager.get_keyspace_properties"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.get_keyspace_properties()</span></tt></a></li>
<li>Moved <tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.describe_keyspace()</span></tt>
and <tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.describe_column_family()</span></tt>
to pycassaShell describe_keyspace() and describe_column_family()</li>
</ul>
<div class="section" id="id31">
<h3>Deprecated<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Renamed <tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.get_keyspace_description()</span></tt>
to <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.get_keyspace_column_families" title="pycassa.system_manager.SystemManager.get_keyspace_column_families"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.get_keyspace_column_families()</span></tt></a>
and deprecated the previous name</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-0-3">
<h2>Changes in Version 1.0.3<a class="headerlink" href="#changes-in-version-1-0-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed supercolumn slice bug in get()</li>
<li>pycassaShell now runs scripts with execfile to allow for multiline statements</li>
<li>2.4 compatability fixes</li>
</ul>
</div>
<div class="section" id="changes-in-version-1-0-2">
<h2>Changes in Version 1.0.2<a class="headerlink" href="#changes-in-version-1-0-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Failover handles a greater set of potential failures</li>
<li>pycassaShell now loads/reloads <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily" title="pycassa.columnfamily.ColumnFamily"><tt class="xref py py-class docutils literal"><span class="pre">pycassa.columnfamily.ColumnFamily</span></tt></a>
instances when the underlying column family is created or updated</li>
<li>Added an option to pycassaShell to run a script after startup</li>
<li>Added <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.list_keyspaces" title="pycassa.system_manager.SystemManager.list_keyspaces"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.list_keyspaces()</span></tt></a></li>
</ul>
</div>
<div class="section" id="changes-in-version-1-0-1">
<h2>Changes in Version 1.0.1<a class="headerlink" href="#changes-in-version-1-0-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Allow pycassaShell to be run without specifying a keyspace</li>
<li>Added <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager.describe_schema_versions" title="pycassa.system_manager.SystemManager.describe_schema_versions"><tt class="xref py py-meth docutils literal"><span class="pre">pycassa.system_manager.SystemManager.describe_schema_versions()</span></tt></a></li>
</ul>
</div>
<div class="section" id="changes-in-version-1-0-0">
<h2>Changes in Version 1.0.0<a class="headerlink" href="#changes-in-version-1-0-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Created the <a class="reference internal" href="api/pycassa/system_manager.html#pycassa.system_manager.SystemManager" title="pycassa.system_manager.SystemManager"><tt class="xref py py-class docutils literal"><span class="pre">SystemManager</span></tt></a> class to
allow for keyspace, column family, and index creation, modification,
and deletion. These operations are no longer provided by a Connection
class.</li>
<li>Updated pycassaShell to use the SystemManager class</li>
<li>Improved retry behavior, including exponential backoff and proper
resetting of the retry attempt counter</li>
<li>Condensed connection pooling classes into only
<a class="reference internal" href="api/pycassa/pool.html#pycassa.pool.ConnectionPool" title="pycassa.pool.ConnectionPool"><tt class="xref py py-class docutils literal"><span class="pre">pycassa.pool.ConnectionPool</span></tt></a> to provide a simpler API</li>
<li>Changed <tt class="xref py py-meth docutils literal"><span class="pre">pycassa.connection.connect()</span></tt> to return a
connection pool</li>
<li>Use more performant Thrift API methods for <tt class="xref py py-meth docutils literal"><span class="pre">insert()</span></tt>
and <tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt> where possible</li>
<li>Bundled <a class="reference internal" href="api/pycassa/util.html#pycassa.util.OrderedDict" title="pycassa.util.OrderedDict"><tt class="xref py py-class docutils literal"><span class="pre">OrderedDict</span></tt></a> and set it as the
default dictionary class for column families</li>
<li>Provide better <tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt> feedback when columns are the wrong
type</li>
<li>Use Thrift API 19.4.0</li>
</ul>
<div class="section" id="id32">
<h3>Deprecated<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamilyMap.get_count()</span></tt> has been deprecated. Use
<tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.get_count()</span></tt> instead.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-5-4">
<h2>Changes in Version 0.5.4<a class="headerlink" href="#changes-in-version-0-5-4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Allow for more backward and forward compatibility</li>
<li>Mark a server as being down more quickly in
<tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></li>
</ul>
</div>
<div class="section" id="changes-in-version-0-5-3">
<h2>Changes in Version 0.5.3<a class="headerlink" href="#changes-in-version-0-5-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added <tt class="xref py py-class docutils literal"><span class="pre">PooledColumnFamily</span></tt>, which makes
it easy to use connection pooling automatically with a ColumnFamily.</li>
</ul>
</div>
<div class="section" id="changes-in-version-0-5-2">
<h2>Changes in Version 0.5.2<a class="headerlink" href="#changes-in-version-0-5-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Support for adding/updating/dropping Keyspaces and CFs
in <tt class="xref py py-class docutils literal"><span class="pre">pycassa.connection.Connection</span></tt></li>
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_range" title="pycassa.columnfamily.ColumnFamily.get_range"><tt class="xref py py-meth docutils literal"><span class="pre">get_range()</span></tt></a> optimization
and more configurable batch size</li>
<li>batch <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_indexed_slices" title="pycassa.columnfamily.ColumnFamily.get_indexed_slices"><tt class="xref py py-meth docutils literal"><span class="pre">get_indexed_slices()</span></tt></a>
similar to <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_range" title="pycassa.columnfamily.ColumnFamily.get_range"><tt class="xref py py-meth docutils literal"><span class="pre">ColumnFamily.get_range()</span></tt></a></li>
<li>Reorganized pycassa logging</li>
<li>More efficient packing of data types</li>
<li>Fix error condition that results in infinite recursion</li>
<li>Limit pooling retries to only appropriate exceptions</li>
<li>Use Thrift API 19.3.0</li>
</ul>
</div>
<div class="section" id="changes-in-version-0-5-1">
<h2>Changes in Version 0.5.1<a class="headerlink" href="#changes-in-version-0-5-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Automatically detect if a column family is a standard column family
or a super column family</li>
<li><a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.multiget_count" title="pycassa.columnfamily.ColumnFamily.multiget_count"><tt class="xref py py-meth docutils literal"><span class="pre">multiget_count()</span></tt></a> support</li>
<li>Allow preservation of key order in
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.multiget" title="pycassa.columnfamily.ColumnFamily.multiget"><tt class="xref py py-meth docutils literal"><span class="pre">multiget()</span></tt></a> if an ordered
dictionary is used</li>
<li>Convert timestamps to v1 UUIDs where appropriate</li>
<li>pycassaShell documentation</li>
<li>Use Thrift API 17.1.0</li>
</ul>
</div>
<div class="section" id="changes-in-version-0-5-0">
<h2>Changes in Version 0.5.0<a class="headerlink" href="#changes-in-version-0-5-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Connection Pooling support: <a class="reference internal" href="api/pycassa/pool.html#module-pycassa.pool" title="pycassa.pool"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.pool</span></tt></a></li>
<li>Started moving logging to <tt class="xref py py-mod docutils literal"><span class="pre">pycassa.logger</span></tt></li>
<li>Use Thrift API 14.0.0</li>
</ul>
</div>
<div class="section" id="changes-in-version-0-4-3">
<h2>Changes in Version 0.4.3<a class="headerlink" href="#changes-in-version-0-4-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Autopack on CF&#8217;s default_validation_class</li>
<li>Use Thrift API 13.0.0</li>
</ul>
</div>
<div class="section" id="changes-in-version-0-4-2">
<h2>Changes in Version 0.4.2<a class="headerlink" href="#changes-in-version-0-4-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added batch mutations interface: <a class="reference internal" href="api/pycassa/batch.html#module-pycassa.batch" title="pycassa.batch"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.batch</span></tt></a></li>
<li>Made bundled thrift-gen code a subpackage of pycassa</li>
<li>Don&#8217;t attempt to reencode already encoded UTF8 strings</li>
</ul>
</div>
<div class="section" id="changes-in-version-0-4-1">
<h2>Changes in Version 0.4.1<a class="headerlink" href="#changes-in-version-0-4-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.batch_insert" title="pycassa.columnfamily.ColumnFamily.batch_insert"><tt class="xref py py-meth docutils literal"><span class="pre">batch_insert()</span></tt></a></li>
<li>Redifined <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.insert" title="pycassa.columnfamily.ColumnFamily.insert"><tt class="xref py py-meth docutils literal"><span class="pre">insert()</span></tt></a>
in terms of <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.batch_insert" title="pycassa.columnfamily.ColumnFamily.batch_insert"><tt class="xref py py-meth docutils literal"><span class="pre">batch_insert()</span></tt></a></li>
<li>Fixed UTF8 autopacking</li>
<li>Convert datetime slice args to uuids when appropriate</li>
<li>Changed how thrift-gen code is bundled</li>
<li>Assert that the major version of the thrift API is the same on the
client and on the server</li>
<li>Use Thrift API 12.0.0</li>
</ul>
</div>
<div class="section" id="changes-in-version-0-4-0">
<h2>Changes in Version 0.4.0<a class="headerlink" href="#changes-in-version-0-4-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added pycassaShell, a simple interactive shell</li>
<li>Converted the test config from xml to yaml</li>
<li>Fixed overflow error on
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_count" title="pycassa.columnfamily.ColumnFamily.get_count"><tt class="xref py py-meth docutils literal"><span class="pre">get_count()</span></tt></a></li>
<li>Only insert columns which exist in the model object</li>
<li>Make ColumnFamilyMap not ignore the ColumnFamily&#8217;s dict_class</li>
<li>Specify keyspace as argument to <tt class="xref py py-meth docutils literal"><span class="pre">connect()</span></tt></li>
<li>Add support for framed transport and default to using it</li>
<li>Added autopacking for column names and values</li>
<li>Added support for secondary indexes with
<a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.get_indexed_slices" title="pycassa.columnfamily.ColumnFamily.get_indexed_slices"><tt class="xref py py-meth docutils literal"><span class="pre">get_indexed_slices()</span></tt></a>
and <a class="reference internal" href="api/pycassa/index.html#module-pycassa.index" title="pycassa.index"><tt class="xref py py-mod docutils literal"><span class="pre">pycassa.index</span></tt></a></li>
<li>Added <a class="reference internal" href="api/pycassa/columnfamily.html#pycassa.columnfamily.ColumnFamily.truncate" title="pycassa.columnfamily.ColumnFamily.truncate"><tt class="xref py py-meth docutils literal"><span class="pre">truncate()</span></tt></a></li>
<li>Use Thrift API 11.0.0</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#changes-in-version-1-9-0">Changes in Version 1.9.0</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-8-0">Changes in Version 1.8.0</a><ul>
<li><a class="reference internal" href="#id1">Features</a></li>
<li><a class="reference internal" href="#id2">Bug Fixes</a></li>
<li><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-7-2">Changes in Version 1.7.2</a><ul>
<li><a class="reference internal" href="#id3">Bug Fixes</a></li>
<li><a class="reference internal" href="#id4">Other</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-7-1">Changes in Version 1.7.1</a><ul>
<li><a class="reference internal" href="#id5">Features</a></li>
<li><a class="reference internal" href="#id6">Bug Fixes</a></li>
<li><a class="reference internal" href="#id7">Other</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-7-0">Changes in Version 1.7.0</a><ul>
<li><a class="reference internal" href="#id8">Features</a></li>
<li><a class="reference internal" href="#id9">Bug Fixes</a></li>
<li><a class="reference internal" href="#id10">Other</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-6-0">Changes in Version 1.6.0</a><ul>
<li><a class="reference internal" href="#id11">Features</a></li>
<li><a class="reference internal" href="#id12">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-5-1">Changes in Version 1.5.1</a></li>
<li><a class="reference internal" href="#changes-in-version-1-5-0">Changes in Version 1.5.0</a><ul>
<li><a class="reference internal" href="#id13">Features</a></li>
<li><a class="reference internal" href="#id14">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-4-0">Changes in Version 1.4.0</a><ul>
<li><a class="reference internal" href="#id15">Features</a></li>
<li><a class="reference internal" href="#id16">Bug Fixes</a></li>
<li><a class="reference internal" href="#removed-deprecated-items">Removed Deprecated Items</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-3-0">Changes in Version 1.3.0</a><ul>
<li><a class="reference internal" href="#id17">Bug Fixes</a></li>
<li><a class="reference internal" href="#id18">Features</a></li>
<li><a class="reference internal" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-2-1">Changes in Version 1.2.1</a><ul>
<li><a class="reference internal" href="#id19">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-2-0">Changes in Version 1.2.0</a><ul>
<li><a class="reference internal" href="#id20">Features</a></li>
<li><a class="reference internal" href="#id21">Bug Fixes</a></li>
<li><a class="reference internal" href="#id22">Deprecated</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-1-1">Changes in Version 1.1.1</a><ul>
<li><a class="reference internal" href="#id23">Features</a></li>
<li><a class="reference internal" href="#id24">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-1-0">Changes in Version 1.1.0</a><ul>
<li><a class="reference internal" href="#changes-related-to-cassandra-0-8">Changes related to Cassandra 0.8</a></li>
<li><a class="reference internal" href="#other-features">Other Features</a></li>
<li><a class="reference internal" href="#id25">Bug Fixes</a></li>
<li><a class="reference internal" href="#id26">Other</a></li>
<li><a class="reference internal" href="#id27">Removed Deprecated Items</a></li>
<li><a class="reference internal" href="#id28">Deprecated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-0-8">Changes in Version 1.0.8</a><ul>
<li><a class="reference internal" href="#id29">Deprecated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-0-7">Changes in Version 1.0.7</a></li>
<li><a class="reference internal" href="#changes-in-version-1-0-6">Changes in Version 1.0.6</a><ul>
<li><a class="reference internal" href="#id30">Deprecated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-0-5">Changes in Version 1.0.5</a></li>
<li><a class="reference internal" href="#changes-in-version-1-0-4">Changes in Version 1.0.4</a><ul>
<li><a class="reference internal" href="#id31">Deprecated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-0-3">Changes in Version 1.0.3</a></li>
<li><a class="reference internal" href="#changes-in-version-1-0-2">Changes in Version 1.0.2</a></li>
<li><a class="reference internal" href="#changes-in-version-1-0-1">Changes in Version 1.0.1</a></li>
<li><a class="reference internal" href="#changes-in-version-1-0-0">Changes in Version 1.0.0</a><ul>
<li><a class="reference internal" href="#id32">Deprecated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-5-4">Changes in Version 0.5.4</a></li>
<li><a class="reference internal" href="#changes-in-version-0-5-3">Changes in Version 0.5.3</a></li>
<li><a class="reference internal" href="#changes-in-version-0-5-2">Changes in Version 0.5.2</a></li>
<li><a class="reference internal" href="#changes-in-version-0-5-1">Changes in Version 0.5.1</a></li>
<li><a class="reference internal" href="#changes-in-version-0-5-0">Changes in Version 0.5.0</a></li>
<li><a class="reference internal" href="#changes-in-version-0-4-3">Changes in Version 0.4.3</a></li>
<li><a class="reference internal" href="#changes-in-version-0-4-2">Changes in Version 0.4.2</a></li>
<li><a class="reference internal" href="#changes-in-version-0-4-1">Changes in Version 0.4.1</a></li>
<li><a class="reference internal" href="#changes-in-version-0-4-0">Changes in Version 0.4.0</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="api/pycassa/contrib/stubs.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">pycassa.contrib.stubs</span></tt> &#8211; Pycassa Stubs</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="assorted/index.html"
                        title="next chapter">Assorted Cassandra and pycassa Functionality</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/changelog.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="assorted/index.html" title="Assorted Cassandra and pycassa Functionality"
             >next</a> |</li>
        <li class="right" >
          <a href="api/pycassa/contrib/stubs.html" title="pycassa.contrib.stubs – Pycassa Stubs"
             >previous</a> |</li>
        <li><a href="index.html">pycassa v1.9.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>